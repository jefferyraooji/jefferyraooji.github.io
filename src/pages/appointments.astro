---
import { Icon } from "astro-icon/components";
import I18nKey from "../i18n/i18nKey";
import { i18n } from "../i18n/translation";
import MainGridLayout from "../layouts/MainGridLayout.astro";

// Google Calendar Appointment Scheduling URL
// 这是 Appointment Schedule 的链接，点击后可以预约时间
const APPOINTMENT_URL = "https://calendar.app.google/nZ7uaDZsnU472oTQA";
---

<MainGridLayout title={i18n(I18nKey.appointmentsTitle)} description={i18n(I18nKey.appointmentsDescription)}>
    <!-- Hero Section -->
    <div class="relative overflow-hidden rounded-[var(--radius-large)] mb-8">
        <div class="absolute inset-0 bg-gradient-to-br from-[var(--primary)]/10 via-transparent to-[var(--primary)]/5"></div>
        <div class="relative card-base p-12 text-center">
            <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[var(--primary)] to-[var(--primary)]/80 rounded-full mb-6 shadow-lg">
                <Icon name="material-symbols:event" class="text-3xl text-white" />
            </div>
            <h1 class="text-4xl font-bold text-[var(--primary)] mb-4">
                {i18n(I18nKey.appointmentsTitle)}
            </h1>
            <p class="text-xl text-[var(--text-color)] opacity-80 max-w-2xl mx-auto leading-relaxed">
                {i18n(I18nKey.appointmentsDescription)}
            </p>
        </div>
    </div>

    <!-- Instructions Section -->
    <div class="card-base p-6 mb-8 border-2 border-[var(--primary)]/20">
        <div class="flex items-start gap-4">
            <div class="flex-shrink-0">
                <Icon name="material-symbols:info" class="text-2xl text-[var(--primary)]" />
            </div>
            <div>
                <h2 class="text-lg font-bold text-[var(--text-color)] mb-2">
                    {i18n(I18nKey.appointmentInstructions)}
                </h2>
            </div>
        </div>
    </div>

    <!-- Appointment Booking Section -->
    <div class="grid md:grid-cols-2 gap-6 mb-8">
        <!-- How it works -->
        <div class="card-base p-8 border-2 border-[var(--primary)]/20">
            <div class="flex items-start gap-4 mb-6">
                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-[var(--primary)]/10 flex items-center justify-center">
                    <Icon name="material-symbols:info" class="text-2xl text-[var(--primary)]" />
                </div>
                <div>
                    <h3 class="text-xl font-bold text-[var(--text-color)] mb-2">How it works</h3>
                    <p class="text-[var(--text-color)] opacity-70 leading-relaxed">
                        Click the booking button to view available time slots and schedule a meeting with me. You'll receive a confirmation email once booked.
                    </p>
                </div>
            </div>
            
            <div class="space-y-4">
                <div class="flex items-start gap-3">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-[var(--primary)] text-white flex items-center justify-center font-bold text-sm">
                        1
                    </div>
                    <p class="text-[var(--text-color)] opacity-80 pt-1">Click "Book Appointment" button below</p>
                </div>
                <div class="flex items-start gap-3">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-[var(--primary)] text-white flex items-center justify-center font-bold text-sm">
                        2
                    </div>
                    <p class="text-[var(--text-color)] opacity-80 pt-1">Select an available time slot that works for you</p>
                </div>
                <div class="flex items-start gap-3">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-[var(--primary)] text-white flex items-center justify-center font-bold text-sm">
                        3
                    </div>
                    <p class="text-[var(--text-color)] opacity-80 pt-1">Fill in your details and confirm the appointment</p>
                </div>
            </div>
        </div>

        <!-- Quick info -->
        <div class="card-base p-8 border-2 border-[var(--primary)]/20">
            <div class="flex items-start gap-4 mb-6">
                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-[var(--primary)]/10 flex items-center justify-center">
                    <Icon name="material-symbols:schedule" class="text-2xl text-[var(--primary)]" />
                </div>
                <div>
                    <h3 class="text-xl font-bold text-[var(--text-color)] mb-2">Meeting Details</h3>
                    <p class="text-[var(--text-color)] opacity-70 leading-relaxed">
                        Flexible scheduling options to fit your timezone and availability.
                    </p>
                </div>
            </div>
            
            <div class="space-y-4">
                <div class="flex items-start gap-3">
                    <Icon name="material-symbols:schedule" class="text-xl text-[var(--primary)] flex-shrink-0 mt-1" />
                    <div>
                        <p class="font-semibold text-[var(--text-color)]">Duration</p>
                        <p class="text-[var(--text-color)] opacity-70 text-sm">30-60 minutes</p>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <Icon name="material-symbols:videocam" class="text-xl text-[var(--primary)] flex-shrink-0 mt-1" />
                    <div>
                        <p class="font-semibold text-[var(--text-color)]">Format</p>
                        <p class="text-[var(--text-color)] opacity-70 text-sm">Virtual meeting (Google Meet)</p>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <Icon name="material-symbols:language" class="text-xl text-[var(--primary)] flex-shrink-0 mt-1" />
                    <div>
                        <p class="font-semibold text-[var(--text-color)]">Language</p>
                        <p class="text-[var(--text-color)] opacity-70 text-sm">English / 中文</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Booking Button -->
    <div class="card-base p-12 border-2 border-[var(--primary)]/20 text-center">
        <div class="max-w-2xl mx-auto">
            <Icon name="material-symbols:calendar-month" class="text-7xl text-[var(--primary)] mx-auto mb-6" />
            <h2 class="text-3xl font-bold text-[var(--text-color)] mb-4">
                Ready to Schedule?
            </h2>
            <p class="text-lg text-[var(--text-color)] opacity-70 mb-8 leading-relaxed">
                Click the button below to view my availability and book a convenient time for our meeting.
            </p>
            
            <a
                href={APPOINTMENT_URL}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-4 px-10 py-5 bg-gradient-to-r from-[var(--primary)] to-[var(--primary)]/80 text-white font-bold text-xl rounded-full hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-2xl"
            >
                <Icon name="material-symbols:event-available" class="text-3xl" />
                Book Appointment
                <Icon name="material-symbols:arrow-forward" class="text-2xl" />
            </a>
            
            <p class="text-sm text-[var(--text-color)] opacity-50 mt-6">
                Opens in a new window • Powered by Google Calendar
            </p>
        </div>
    </div>
</MainGridLayout>

<style>
    a[href^="https://calendar"] {
        text-decoration: none;
    }
</style>

